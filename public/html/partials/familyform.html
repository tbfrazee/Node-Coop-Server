<form id="familyForm" name="familyForm" class="needs-validation" onsubmit="submitFamilyForm(); return false" novalidate>
	<fieldset id="familyFormField" {if isViewMode}disabled{/if}>
    <form class="needs-validation" id="familyForm" action="javascript:void(0)" novalidate>
        <fieldset class="form-group">
            <label class="form-label required" for="address1">Your Address</label>
            <input class="form-control" type="text" id="address1" name="address1" autocomplete="address-line1" value="{familyForm.address1}" required>
            <div class="invalid-feedback">Please enter your address</div>
            <input class="form-control" type="text" id="address2" name="address2" autocomplete="address-line2" value="{familyForm.address2}">
            <div class="row">
                <div class="col-6">
                    <label for="city">City</label>
                    <input class="form-control" type="text" id="addressCity" name="addressCity" autocomplete="address-level2" value="{familyForm.city}" required>
                    <div class="invalid-feedback">Please enter your city</div>
                </div>
                <div class="col-3">
                    <label for="state">State</label>
                    <input class="form-control" type="text" id="addressState" name="addressState" autocomplete="address-level1" maxlength="2" value="{familyForm.state}" required>
                    <div class="invalid-feedback">Please enter your State</div>
                </div>
                <div class="col-3">
                    <label for="zip">Zip</label>
                    <input class="form-control" type="text" id="addressZip" name="addressZip" autocomplete="postal-code" value="{famiylForm.zip}" required>
                    <div class="invalid-feedback">Please enter your zip code</div>
                </div>
            </div>
            <br />
            <label class="form-label required">Dwelling Type</label>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="addressType" id="addressTypeHouse" value="House" onclick="toggleExpField('addressTypeOther', false);" required>
                <label class="form-check-label" for="addressTypeHouse">House</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="addressType" id="addressTypeApartment" value="Apartment" onclick="toggleExpField('addressTypeOther', false);" required>
                <label class="form-check-label" for="addressTypeApartment">Apartment</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="addressType" id="addressTypeOther" value="Other" onclick="toggleExpField('addressTypeOther', true);" required>
                <label class="form-check-label" for="addressTypeOther">Other</label>
                <div class="row collapse" id="addressTypeOtherEC">
                    <div class="col-4">
                        <input class="form-control form-control-sm" type="text" id="addressTypeOtherExp" name="addressTypeOtherExp" value="{familyForm.addressTypeOtherExp}">
                        <div class="invalid-feedback">This field is required</div>
                    </div>
                </div>
            </div>
        </fieldset>
        <hr class="double" />
        <fieldset class="form-group">
            <label class="form-label required">Household Emergency Contacts<a href="#ecHelp" class="badge badge-info" role="button" style="margin-left: 20px;" data-toggle="collapse">&nbsp;?&nbsp;</a></label>
            <div class="alert alert-info collapse" id="ecHelp">
                <h6>Emergency Contacts</h6>
                <hr />
                <p>Babysitters will attempt to contact your child's primary caretakers (you and/or other members of your family registered on this site) first in case of emergency.</p>
                <p>In case there is an emergency and the babysitter is unable to contact you, please provide <b>at least</b> one emergency contact. If possible, provide enough emergency contacts that you are confident that at least one will be available at any given time.</p>
            </div>
            <p class="important">At least one is required.</p>
            <div id="emergencyContacts"></div>
            <button type="button" class="btn btn-primary mt-2" style="margin-top: 10px;" onclick="addEmergencyContact();" id="emergencyContactButton">Add New Emergency Contact</button>
        </fieldset>
        <hr />
        <fieldset class="form-group">
            <label class="form-label required">List all the adults that live in your home<a href="#adultHelp" class="badge badge-info" role="button" style="margin-left: 20px;" data-toggle="collapse">&nbsp;?&nbsp;</a></label>
            <div class="alert alert-info collapse" id="adultHelp">
                <h6>Adults In Your Household</h6>
                <p>When a member sends their child to your house for a babysit, it's important that they know as much as possible about the environment their child will be in.</p>
                <p>Please list all the adults - including yourself and your immediate family - 18 years or older that live in your home or are likely to be present while you are babysitting a child at your home.</p>
            </div>
            <p class="important">At least one is required</p>
            <div id="houseAdults"></div>
            <br />
            <button type="button" class="btn btn-primary" onclick="addAdult();" id="adultButton">Add New Adult</button>
        </fieldset>
        <hr />
        <fieldset class="form-group">
            <label class="form-label required">List all the children that live in your home<a href="#childHelp" class="badge badge-info" role="button" style="margin-left: 20px;" data-toggle="collapse">?</a></label>
            <div class="alert alert-info collapse" id="childHelp">
                <h6>Children In Your Household</h6>
                <p>When a member sends their child to your house for a babysit, it's important that they know as much as possible about the environment their child will be in.</p>
                <p>Please list all the children (up to 18 years) that live in your home and/or are likely to be present while you are babysitting a child at your home. Include children that are part of the babysitting co-op; you will provide more information on participating children later.</p>
            </div>
            <div id="houseChildren"></div>
            <br />
            <button type="button" class="btn btn-primary" onclick="addChild();" id="childButton">Add New Child</button>
        </fieldset>
        <hr />
        <fieldset class="form-group">
            <label class="form-label required">List all pets that reside at your home<a href="#petHelp" class="badge badge-info" role="button" style="margin-left: 20px;" data-toggle="collapse">&nbsp;?&nbsp;</a></label>
            <div class="alert alert-info collapse" id="petHelp">
                <h6>Pets In Your Household</h6>
                <p>When a member sends their child to your house for a babysit, it's important that they know as much as possible about the environment their child will be in.</p>
                <p>Please list all the animals that live in your home or are likely to be present while you are babysitting a child at your home.</p>
            </div>
            <div id="housePets"></div>
            <br />
            <button type="button" class="btn btn-primary" onclick="addPet();" id="petButton">Add New Pet</button>
        </fieldset>
        <hr class="double" />
        <fieldset class="form-group">
            <label class="form-label required">Home Environment</label>
            <br />
            Does anyone in your household smoke or vape?
            <div class="form-check">
                <input class="form-check-input w-exp" type="radio" name="householdSmoke" id="householdSmokeRadioY" value="Yes" onclick="toggleExpField('householdSmoke', true);" required>
                <label class="form-check-label" for="householdSmokeRadioY">Yes</label>
                <div class="row collapse" id="householdSmokeEC">
                    <div class="col">
                        <label for="householdSmokeExp">Please provide more information</label>
                        <textarea class="form-control form-control-sm" rows="2" id="householdSmokeExp" name="householdSmokeExp"></textarea>
                        <div class="invalid-feedback">This field is required</div>
                    </div>
                </div>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="householdSmoke" id="householdSmokeRadioN" value="No" onclick="toggleExpField('householdSmoke', false);" required>
                <label class="form-check-label" for="householdSmokeRadioN">No</label>
            </div>
            <br />
            Will anyone at your household possibly be under the effects of drugs or alcohol during a babysit?
            <div class="form-check">
                <input class="form-check-input w-exp" type="radio" name="householdDrug" id="householdDrugRadioY" value="Yes" onclick="toggleExpField('householdDrug', true);" required>
                <label class="form-check-label" for="householdDrugRadioY">Yes</label>
                <div class="row collapse" id="householdDrugEC">
                    <div class="col">
                        <label for="householdDrugExp">Please provide more information</label>
                        <textarea class="form-control form-control-sm" rows="2" id="householdDrugExp" name="householdDrugExp"></textarea>
                        <div class="invalid-feedback">This field is required</div>
                    </div>
                </div>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="householdDrug" id="householdDrugRadioN" value="No" onclick="toggleExpField('householdDrug', false);" required>
                <label class="form-check-label" for="householdDrugRadioN">No</label>
            </div>
            <br />
            Is anyone in your household unvaccinated, missing vaccinations, or behind schedule on vaccinations?
            <div class="form-check">
                <input class="form-check-input w-exp" type="radio" name="householdVaccination" id="householdVaccinationRadioY" value="Yes" onclick="toggleExpField('householdVaccination', true);" required>
                <label class="form-check-label" for="householdVaccinationRadioY">Yes</label>
                <div class="row collapse" id="householdVaccinationEC">
                    <div class="col">
                        <label for="householdVaccinationExp">Please provide more information</label>
                        <textarea class="form-control form-control-sm" rows="2" id="householdVaccinationExp" name="householdVaccinationExp"></textarea>
                        <div class="invalid-feedback">This field is required</div>
                    </div>
                </div>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="householdVaccination" id="householdVaccinationRadioN" value="No" onclick="toggleExpField('householdVaccination', false);" required>
                <label class="form-check-label" for="householdVaccinationRadioN">No</label>
            </div>
            <br />
            Are there any firearms or other weapons stored in your home or on your property?
            <div class="form-check">
                <input class="form-check-input w-exp" type="radio" name="householdGun" id="householdGunRadioY" value="Yes" onclick="toggleExpField('householdGun', true);" required>
                <label class="form-check-label" for="householdGunRadioY">Yes</label>
                <div class="row collapse" id="householdGunEC">
                    <div class="col">
                        <label for="householdGunExp">Please provide more information</label>
                        <textarea class="form-control form-control-sm" rows="2" id="householdGunExp" name="householdGunExp"></textarea>
                        <div class="invalid-feedback">This field is required</div>
                    </div>
                </div>
            </div>
            <div class="form-check">
                <input class="form-check-input w-exp" type="radio" name="householdGun" id="householdGunRadioN" value="No" onclick="toggleExpField('householdGun', false);" required>
                <label class="form-check-label" for="householdGunRadioN">No</label>
            </div>
            <br />
            How do you ensure that all drugs, cleaners, poisons, and other dangerous/toxic substances are kept away from children in your home?
            <textarea class="form-control" rows="2" id="householdLockup" name="householdLockup" required></textarea>
            <div class="invalid-feedback">This field is required</div>
        </fieldset>
        <hr class="double" />
        <fieldset class="form-group">
            <label class="form-label">Anything else you want others to know about your family or household?</label>
            <textarea class="form-control" rows="2" id="familyComment" name="familyComment"></textarea>
        </fieldset>
    </form>
	</fieldset>
</form>

<script type="text/javascript" src="../scripts/familyform.js"></script>
{if isViewMode}
<script type="text/javascript">
document.addEventListener("DomContentLoaded", function() {
	{for ec in familyForm.emergencyContacts}
	addEmergencyContact({ec.name}, {ec.phone});
	{/for}
	{for ad in adults}
	addAdult({ad.name}, {ad.relation});
	{/for}
	{for ch in children}
	addChild({ch.name}, {ch.birthdate});
	{/for}
	{for pe in pets}
	addPet({pe.name}, {pe.type}, {pe.breed});
	{/for}
	$("#familyForm:checked[type='radio']").each(function(el) {
		if(el.className.includes("w-exp")) {
			toggleExpField(el.name, true);
		}
	});
}
</script>
{/if}
